<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>demo</title>
    <link rel="stylesheet" href="../css/index.css">
</head>
<body>
<div>
    <div id="ajaxTree">

    </div>
</div>
</body>
<script src="../js/index.js"></script>
<script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
<script>
    let syncData = [
        {
            value: 'data1',
            nodeCode: '0',
            children: [
                {
                    value: 'data1-1',
                    nodeCode: '01',
                    children: [
                        {
                            value: 'data1-1-1',
                            nodeCode: '011'
                        },
                        {
                            value: 'data1-1-2',
                            nodeCode: '012',
                            children: [
                                {
                                    value: 'data1-1-2-1',
                                    nodeCode: '0121'
                                },
                                {
                                    value: 'data1-1-2-2',
                                    nodeCode: '0122'
                                }
                            ]
                        },
                    ]
                },
                {
                    value: 'data1-2',
                    nodeCode: '01'
                },
            ]
        },
        {
            value: 'data2',
            nodeCode: '1',
            children: [
                {
                    value: 'data2-1',
                    nodeCode: '11'
                },
                {
                    value: 'data2-2',
                    nodeCode: '12',
                    children: [
                        {
                            value: 'data2-2-1',
                            nodeCode: '121'
                        },
                        {
                            value: 'data2-2-2',
                            nodeCode: '122'
                        },
                    ]
                },
            ]
        },
        {
            value: 'data3',
            nodeCode: '2'
        },
        {
            value: 'data4',
            nodeCode: '3'
        },
        {
            value: 'data5',
            nodeCode: '4'
        }
    ];
    let syncKey = {
        label: 'value',
        id: 'nodeCode',
        children: 'children'
    };

    let asyncData = [
        {
            label: 'data1',
            nodeCode: '0',
            children: [
                {
                    label: 'data1-1',
                    nodeCode: '01',
                    children: [
                        {
                            label: 'data1-1-1',
                            nodeCode: '011'
                        },
                        {
                            label: 'data1-1-2',
                            nodeCode: '012',
                            children: [
                                {
                                    label: 'data1-1-2-1',
                                    nodeCode: '0121'
                                },
                                {
                                    label: 'data1-1-2-2',
                                    nodeCode: '0122',
                                    children: []
                                }
                            ]
                        },
                    ]
                },
                {
                    label: 'data1-2',
                    nodeCode: '01'
                },
            ]
        },
        {
            label: 'data2',
            nodeCode: '1',
            children: []
        },
        {
            label: 'data3',
            nodeCode: '2'
        },
        {
            label: 'data4',
            nodeCode: '3'
        },
        {
            label: 'data5',
            nodeCode: '4'
        }
    ];
    let asyncKey = {
        label: 'label',
        id: 'nodeCode',
        children: 'children'
    };
    new AjaxTree({
        id: '#ajaxTree',
        data: asyncData,
        itemKey: asyncKey,
        isExpand: true,
        isAsync: true,
        loadNode(nodeData, reslove, reject) {
            setTimeout(() => {
                reslove([{
                    label: '呵呵呵',
                    nodeCode: '1111111',
                    children: []
                }, {
                    label: '嘻嘻嘻',
                    nodeCode: '2222222',
                    children: []
                }])
            }, 1000)
        }
    });
</script>
</html>